CREATE DATABASE IF NOT EXISTS rent;
USE rent;
CREATE TABLE IF NOT EXISTS `rent`.`cars` (
  `ID_CARS` INT(8) NOT NULL,
  `BRAND` VARCHAR(20) NULL DEFAULT NULL,
  `MODEL` VARCHAR(15) NULL DEFAULT NULL,
  `NUMBER` VARCHAR(20) NULL DEFAULT NULL,
  `COLOUR` VARCHAR(20) NULL DEFAULT NULL,
  `CAPACITY` INT(11) NULL DEFAULT NULL,
  `TYPE_OF_BODY` VARCHAR(20) NULL DEFAULT NULL,
  `YEAR_OF_EDITION` INT(4) NULL DEFAULT NULL,
  `TYPE_OF_ENGINE` VARCHAR(20) NULL DEFAULT NULL,
  `GEARBOX` VARCHAR(20) NULL DEFAULT NULL,
  `STATUS` VARCHAR(20) NULL DEFAULT NULL,
  `PRICE` DECIMAL(10,0) NOT NULL DEFAULT '0',
  PRIMARY KEY (`ID_CARS`))
  ENGINE = InnoDB
  DEFAULT CHARACTER SET = utf8
  COLLATE = utf8_unicode_ci;

CREATE TABLE IF NOT EXISTS `rent`.`user` (
  `USER_ID` INT(10) NOT NULL AUTO_INCREMENT,
  `NAME` VARCHAR(20) NULL DEFAULT NULL,
  `SURNAME` VARCHAR(20) NULL DEFAULT NULL,
  `LOGIN` VARCHAR(20) NOT NULL,
  `PASSWORD` VARCHAR(25) NOT NULL,
  `BIRTHDAY` DATE NULL DEFAULT NULL,
  `STATUS` CHAR(10) NOT NULL DEFAULT 'ACTIVE',
  `ROLE` CHAR(4) NOT NULL DEFAULT 'USER',
  `PASSPORT_LETT` VARCHAR(2) NULL DEFAULT NULL,
  `PASSPORT_ID` VARCHAR(20) NULL DEFAULT NULL,
  `COUNTRY` VARCHAR(20) NULL DEFAULT NULL,
  `IDENTIFICATION_NUMBER` VARCHAR(45) NULL DEFAULT NULL,
  `DRIVING_EXPERIENCE` INT(11) NULL DEFAULT NULL,
  `NUMBER_OF_ORDERS` INT(11) NULL DEFAULT '0',
  `NUMBER_OF_ACCIDENT` INT(11) NULL DEFAULT '0',
  `NUMBER_OF_PHONE` INT(11) NULL DEFAULT NULL,
  `EMAIL` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`USER_ID`),
  UNIQUE INDEX `USER_LOGIN_uindex` (`LOGIN` ASC))
  ENGINE = InnoDB
  AUTO_INCREMENT = 45
  DEFAULT CHARACTER SET = utf8
  COLLATE = utf8_unicode_ci;


# CREATE TABLE USER
# (
#   USER_ID  INT(10) PRIMARY KEY       NOT NULL AUTO_INCREMENT,
#   NAME     VARCHAR(20),
#   LOGIN    VARCHAR(20)               NOT NULL,
#   PASSWORD VARCHAR(25)               NOT NULL,
#   BIRTHDAY DATE,
#   STATUS   CHAR(10) DEFAULT 'ACTIVE' NOT NULL,
#   ROLE     CHAR(4) DEFAULT 'USER'    NOT NULL
# );
# CREATE UNIQUE INDEX USER_LOGIN_uindex
#   ON USER (LOGIN);

CREATE TABLE IF NOT EXISTS `rent`.`orders` (
  `ID` INT(10) NOT NULL AUTO_INCREMENT,
  `USER_ID` INT(10) NOT NULL,
  `ID_CARS` INT(10) NOT NULL,
  `DATE_START_ORDER` DATE NULL DEFAULT NULL,
  `DATE_FINISH_ORDER` DATE NULL DEFAULT NULL,
  `TOTAL` INT(11) NULL DEFAULT NULL,
  PRIMARY KEY (`ID`),
  INDEX `user_fk` (`USER_ID` ASC),
  INDEX `cars_fk_idx` (`ID_CARS` ASC),
  CONSTRAINT `cars_fk`
  FOREIGN KEY (`ID_CARS`)
  REFERENCES `rent`.`cars` (`ID_CARS`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `user_fk`
  FOREIGN KEY (`USER_ID`)
  REFERENCES `rent`.`user` (`USER_ID`))
  ENGINE = InnoDB
  AUTO_INCREMENT = 58
  DEFAULT CHARACTER SET = utf8
  COLLATE = utf8_unicode_ci;


# CREATE TABLE `ORDER`
# (
#   ID       INT(10) PRIMARY KEY    NOT NULL AUTO_INCREMENT,
#   USER_ID  INT(10)                NOT NULL,
#   DATE     DATETIME               NOT NULL,
#   QUANTITY INT(5) DEFAULT '1'     NOT NULL,
#   STATUS   CHAR(10) DEFAULT 'NEW' NOT NULL,
#   CONSTRAINT user_fk
#   FOREIGN KEY (USER_ID) REFERENCES shop.USER (USER_ID)
# );
#
# CREATE INDEX user_fk
#   ON `shop`.`orders` (USER_ID);


INSERT INTO rent.cars (ID_CARS, BRAND, MODEL, NUMBER, COLOUR, CAPACITY, TYPE_OF_BODY, YEAR_OF_EDITION, TYPE_OF_ENGINE, GEARBOX, STATUS, PRICE) VALUES (1, 'Opel', 'Vectra', 'v333', 'Red', 4, 'Sedan', 1995, 'Dies', 'Auto', 'Ava', 259);
INSERT INTO rent.cars (ID_CARS, BRAND, MODEL, NUMBER, COLOUR, CAPACITY, TYPE_OF_BODY, YEAR_OF_EDITION, TYPE_OF_ENGINE, GEARBOX, STATUS, PRICE) VALUES (2, 'Opel', 'Astra', 'v444', 'Bkue', 4, 'Sedan', 1999, 'Benz', 'Mech', 'Ava', 367);
INSERT INTO rent.cars (ID_CARS, BRAND, MODEL, NUMBER, COLOUR, CAPACITY, TYPE_OF_BODY, YEAR_OF_EDITION, TYPE_OF_ENGINE, GEARBOX, STATUS, PRICE) VALUES (3, 'Renault', 'C3', 'v555', 'Green', 4, 'Sedan', 2005, 'Dies', 'Auto', 'Ava', 376);
INSERT INTO rent.cars (ID_CARS, BRAND, MODEL, NUMBER, COLOUR, CAPACITY, TYPE_OF_BODY, YEAR_OF_EDITION, TYPE_OF_ENGINE, GEARBOX, STATUS, PRICE) VALUES (4, 'Ford', 'Focus', 'v666', 'Green', 4, 'Sedan', 2015, 'Benz', 'Auto', 'Non', 309);

# INSERT INTO rent.orders (USER_ID, ID_CARS, DATE_START_ORDER, DATE_FINISH_ORDER, TOTAL) VALUES (1, 2, '2019-05-05', '2019-05-07', 5);
# INSERT INTO rent.orders (USER_ID, ID_CARS, DATE_START_ORDER, DATE_FINISH_ORDER, TOTAL) VALUES (1, 2, '2019-05-05', '2019-05-07', 5);
# INSERT INTO rent.orders (USER_ID, ID_CARS, DATE_START_ORDER, DATE_FINISH_ORDER, TOTAL) VALUES (29, 4, '2019-07-17', '2019-07-25', 2472);
# INSERT INTO rent.orders (USER_ID, ID_CARS, DATE_START_ORDER, DATE_FINISH_ORDER, TOTAL) VALUES (29, 4, '2019-07-17', '2019-07-25', 2472);
# INSERT INTO rent.orders (USER_ID, ID_CARS, DATE_START_ORDER, DATE_FINISH_ORDER, TOTAL) VALUES (29, 2, '2019-05-05', '2019-05-15', 3670);
# INSERT INTO rent.orders (USER_ID, ID_CARS, DATE_START_ORDER, DATE_FINISH_ORDER, TOTAL) VALUES (29, 1, '2019-06-14', '2019-06-28', 3626);
# INSERT INTO rent.orders (USER_ID, ID_CARS, DATE_START_ORDER, DATE_FINISH_ORDER, TOTAL) VALUES (1, 2, '2019-05-05', '2019-05-07', 5);
# INSERT INTO rent.orders (USER_ID, ID_CARS, DATE_START_ORDER, DATE_FINISH_ORDER, TOTAL) VALUES (1, 2, '2019-05-05', '2019-05-07', 5);
# INSERT INTO rent.orders (USER_ID, ID_CARS, DATE_START_ORDER, DATE_FINISH_ORDER, TOTAL) VALUES (29, 4, '2019-07-17', '2019-07-25', 2472);
# INSERT INTO rent.orders (USER_ID, ID_CARS, DATE_START_ORDER, DATE_FINISH_ORDER, TOTAL) VALUES (29, 4, '2019-07-17', '2019-07-25', 2472);
# INSERT INTO rent.orders (USER_ID, ID_CARS, DATE_START_ORDER, DATE_FINISH_ORDER, TOTAL) VALUES (29, 2, '2019-05-05', '2019-05-15', 3670);
# INSERT INTO rent.orders (USER_ID, ID_CARS, DATE_START_ORDER, DATE_FINISH_ORDER, TOTAL) VALUES (29, 1, '2019-06-14', '2019-06-28', 3626);

INSERT INTO rent.user (NAME, SURNAME, LOGIN, PASSWORD, BIRTHDAY, STATUS, ROLE, PASSPORT_LETT, PASSPORT_ID, COUNTRY, IDENTIFICATION_NUMBER, DRIVING_EXPERIENCE, NUMBER_OF_ORDERS, NUMBER_OF_ACCIDENT, NUMBER_OF_PHONE, EMAIL) VALUES ('Yulij', null, 'Yulij', '123', '2019-06-19', 'ACTIVE', 'USER', null, null, null, null, null, 0, 0, null, null);
INSERT INTO rent.user (NAME, SURNAME, LOGIN, PASSWORD, BIRTHDAY, STATUS, ROLE, PASSPORT_LETT, PASSPORT_ID, COUNTRY, IDENTIFICATION_NUMBER, DRIVING_EXPERIENCE, NUMBER_OF_ORDERS, NUMBER_OF_ACCIDENT, NUMBER_OF_PHONE, EMAIL) VALUES ('Artem', 'Taler', 'Taler', '123', '1995-05-12', 'ACTIVE', 'USER', 'KB', '123', 'Belarus', 'fdaf5dsf45ds', 5, 0, 0, 1767289, 'taler1995@mail.ru');
INSERT INTO rent.user (NAME, SURNAME, LOGIN, PASSWORD, BIRTHDAY, STATUS, ROLE, PASSPORT_LETT, PASSPORT_ID, COUNTRY, IDENTIFICATION_NUMBER, DRIVING_EXPERIENCE, NUMBER_OF_ORDERS, NUMBER_OF_ACCIDENT, NUMBER_OF_PHONE, EMAIL) VALUES ('ghj', 'ghm', 'Taler19', '132', '2019-04-15', 'ACTIVE', 'USER', 'lk', '4645', 'fgfh', 'jjljkl', 5, 0, 0, 1756, 'gyfufu');
INSERT INTO rent.user (NAME, SURNAME, LOGIN, PASSWORD, BIRTHDAY, STATUS, ROLE, PASSPORT_LETT, PASSPORT_ID, COUNTRY, IDENTIFICATION_NUMBER, DRIVING_EXPERIENCE, NUMBER_OF_ORDERS, NUMBER_OF_ACCIDENT, NUMBER_OF_PHONE, EMAIL) VALUES ('Dima', 'Mitya', 'Vesel', '123', '2019-06-04', 'ACTIVE', 'USER', 'kb', '123', 'belarus', '123', 5, 0, 0, 123, 'taler1995@mail.ru');
INSERT INTO rent.user (NAME, SURNAME, LOGIN, PASSWORD, BIRTHDAY, STATUS, ROLE, PASSPORT_LETT, PASSPORT_ID, COUNTRY, IDENTIFICATION_NUMBER, DRIVING_EXPERIENCE, NUMBER_OF_ORDERS, NUMBER_OF_ACCIDENT, NUMBER_OF_PHONE, EMAIL) VALUES ('111', '111', '11', 'ds', '2019-05-05', 'ACTIVE', 'USER', '11', '111', '465', '45688', 111, 0, 0, 1234, '123');
